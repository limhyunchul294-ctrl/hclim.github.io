-- ============================================
-- 초기 공지사항 데이터 삽입
-- ============================================
-- 이 파일을 Supabase Dashboard > SQL Editor에서 실행하세요

-- 공지사항 1: 환영 메시지 (고정)
INSERT INTO notices (title, content, category, is_pinned, created_at)
VALUES (
    'EVKMC 정비 포털에 오신 것을 환영합니다',
    'EVKMC 정비 포털에 오신 것을 환영합니다.

본 포털을 통해 다음 정보를 확인하실 수 있습니다:

**주요 기능:**
- 정비지침서 및 기술 문서
- 전장회로도 및 부품 카탈로그
- DTC 진단 매뉴얼
- TSB (Technical Service Bulletin)
- 공지사항 및 커뮤니티

**시작하기:**
1. 보안서약서에 동의해주세요 (최초 1회)
2. 좌측 메뉴에서 원하는 기능을 선택하세요
3. 검색 기능을 활용하여 빠르게 정보를 찾아보세요

문의사항이 있으시면 관리자에게 연락해주시기 바랍니다.

감사합니다.',
    '안내',
    true,
    NOW() - INTERVAL '7 days'
);

-- 공지사항 2: 보안서약서 동의 안내 (고정)
INSERT INTO notices (title, content, category, is_pinned, created_at)
VALUES (
    '보안서약서 동의 안내',
    '안녕하세요, EVKMC 정비 포털입니다.

본 포털은 기술 문서 및 서비스 정보를 제공하는 보안이 중요한 시스템입니다.

**보안서약서 동의 안내:**
- 최초 로그인 시 보안서약서에 동의해주셔야 포털을 이용하실 수 있습니다
- 보안서약서는 회사명과 담당자 이름을 입력하여 동의하시면 됩니다
- 동의한 내용은 "내 정보" 페이지에서 다시 확인하실 수 있습니다

**사용자의 의무:**
- 계정 정보를 타인에게 공유하지 않기
- 포털 내 정보를 무단으로 복제, 배포하지 않기
- 제공된 정보는 승인된 목적에만 사용하기
- 정보의 정확성을 확인하고 사용하기

보안서약서에 동의하지 않으실 경우 포털 서비스를 이용하실 수 없습니다.

감사합니다.',
    '안내',
    true,
    NOW() - INTERVAL '6 days'
);

-- 공지사항 3: 포털 사용법 안내
INSERT INTO notices (title, content, category, created_at)
VALUES (
    '포털 사용법 안내',
    'EVKMC 정비 포털 사용법을 안내드립니다.

**1. 정비지침서 검색**
- 좌측 메뉴의 "정비지침서"를 클릭하세요
- 트리 구조에서 원하는 항목을 선택하세요
- 검색창을 이용하여 키워드로 빠르게 찾을 수 있습니다

**2. 전장회로도 확인**
- "전장회로도" 메뉴에서 차종별 회로도를 확인하세요
- PDF 뷰어를 통해 확대/축소 및 인쇄가 가능합니다

**3. DTC 진단**
- "DTC 매뉴얼"에서 진단 코드를 검색하세요
- 코드별 진단 절차 및 해결 방법을 확인할 수 있습니다

**4. TSB 확인**
- 최신 TSB를 확인하여 정비 시 참고하세요
- PDF 문서로 상세한 내용을 확인할 수 있습니다

**5. 공지사항**
- 중요한 공지사항은 상단에 고정되어 표시됩니다
- 최신 공지사항을 확인하여 놓치지 않도록 주의하세요

**6. 커뮤니티**
- 정비 관련 질문이나 정보를 공유할 수 있습니다
- 다른 정비사들의 경험을 참고하세요

문의사항이 있으시면 언제든지 관리자에게 연락해주세요.',
    '안내',
    NOW() - INTERVAL '5 days'
);

-- 공지사항 4: 시스템 정기 점검 안내 (시간 수정: 13:00)
INSERT INTO notices (title, content, category, created_at)
VALUES (
    '시스템 정기 점검 안내',
    '보다 안정적인 서비스 제공을 위해 아래와 같이 시스템 정기 점검을 실시할 예정입니다.

**점검 일시:**
- 매월 둘째 주 수요일 13:00 ~ 15:00 (2시간)
- 점검 시간은 사전 공지 후 변경될 수 있습니다

**점검 내용:**
- 서버 안정화 작업
- 데이터베이스 백업
- 보안 업데이트
- 성능 최적화

**점검 중 서비스 이용:**
- 점검 시간 동안 서비스 이용이 원활하지 않을 수 있습니다
- 긴급한 경우 관리자에게 연락해주시기 바랍니다

점검 일정은 공지사항을 통해 사전에 안내드리겠습니다.

양해 부탁드립니다.',
    '점검',
    NOW() - INTERVAL '4 days'
);

-- 공지사항 5: 부품 카탈로그 업데이트 안내
INSERT INTO notices (title, content, category, created_at)
VALUES (
    '부품 카탈로그 업데이트 안내',
    '부품 카탈로그가 업데이트되었습니다.

**업데이트 내용:**
- 신규 부품 정보 추가
- 부품 번호 및 명칭 정정
- 도해도 이미지 해상도 개선
- 가격 정보 업데이트

**확인 방법:**
- "부품 카탈로그" 메뉴에서 최신 정보를 확인하세요
- 검색 기능을 활용하여 원하는 부품을 빠르게 찾을 수 있습니다

**문의:**
- 부품 정보에 오류가 있거나 문의사항이 있으시면 관리자에게 연락해주세요

감사합니다.',
    '업데이트',
    NOW() - INTERVAL '3 days'
);

-- 공지사항 6: TSB 최신 버전 등록 안내
INSERT INTO notices (title, content, category, created_at)
VALUES (
    'TSB 최신 버전 등록 안내',
    '새로운 TSB가 등록되었습니다.

**등록된 TSB:**
- **TSB-001**: 충전 시스템 관련 개선 사항
- **TSB-002**: 배터리 관리 시스템 업데이트
- **TSB-003**: 전장 시스템 진단 절차 개선

**확인 방법:**
- "TSB" 메뉴에서 최신 TSB 목록을 확인하세요
- 각 TSB의 PDF 문서를 다운로드하여 상세 내용을 확인할 수 있습니다

**주의사항:**
- TSB는 정비 시 반드시 참고해야 하는 중요한 정보입니다
- 최신 TSB를 확인하여 정비 품질을 향상시키세요

문의사항이 있으시면 관리자에게 연락해주세요.',
    '업데이트',
    NOW() - INTERVAL '2 days'
);

-- 공지사항 7: 계정 보안 안내 (비밀번호 관련 내용 제거, 이메일 인증 중심)
INSERT INTO notices (title, content, category, created_at)
VALUES (
    '계정 보안 안내',
    '계정 보안을 위해 다음 사항을 준수해주시기 바랍니다.

**보안 수칙:**
- 이메일 인증을 통한 안전한 로그인을 사용하고 있습니다
- 로그인 정보를 타인에게 공유하지 마세요
- 로그아웃 후 브라우저를 종료하세요
- 의심스러운 로그인 시도가 있으면 즉시 관리자에게 연락해주세요

**보안 관련 문의:**
- 계정 보안 관련 문제가 발생하면 즉시 관리자에게 연락해주세요
- 의심스러운 로그인 활동이 감지되면 알려드리겠습니다

안전한 포털 이용을 위해 협조 부탁드립니다.',
    '보안',
    NOW() - INTERVAL '1 day'
);

-- 삽입된 공지사항 확인
SELECT 
    id,
    title,
    category,
    is_pinned,
    created_at
FROM notices
ORDER BY is_pinned DESC, created_at DESC;

